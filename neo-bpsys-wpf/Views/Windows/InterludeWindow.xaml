<Window
    x:Class="neo_bpsys_wpf.Views.Windows.InterludeWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:cb="clr-namespace:neo_bpsys_wpf.CustomBehaviors"
    xmlns:cv="clr-namespace:neo_bpsys_wpf.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:neo_bpsys_wpf.Views.Windows"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    xmlns:vm="clr-namespace:neo_bpsys_wpf.ViewModels.Windows"
    Title="InterludeWindow"
    Width="1440"
    Height="810"
    d:DataContext="{d:DesignInstance Type=vm:InterludeWindowViewModel,
                                     IsDesignTimeCreatable=True}"
    Style="{StaticResource FrontWindow}"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
    </Window.Resources>
    <Canvas
        x:Name="BaseCanvas"
        Width="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=Width}"
        Height="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=Height}">
        <Canvas.Background>
            <ImageBrush ImageSource="/Assets/interlude.png" />
        </Canvas.Background>
        <Canvas.Resources>
            <Style TargetType="TextBlock">
                <Setter Property="Foreground" Value="White" />
            </Style>
            <Style TargetType="Image">
                <Setter Property="Stretch" Value="UniformToFill" />
            </Style>
            <Style x:Key="PlayerId" TargetType="TextBlock">
                <Setter Property="FontSize" Value="18" />
                <Setter Property="FontFamily" Value="{StaticResource SourceHan}" />
                <Setter Property="HorizontalAlignment" Value="Left" />
                <Setter Property="VerticalAlignment" Value="Center" />
                <Setter Property="Foreground" Value="White" />
            </Style>
            <Style x:Key="PlayerIdBorder" TargetType="Border">
                <Setter Property="Height" Value="38" />
                <Setter Property="Width" Value="180" />
            </Style>
            <Style x:Key="SurPickImage" TargetType="Image">
                <Setter Property="Width" Value="503" />
                <Setter Property="Height" Value="304" />
                <Setter Property="Stretch" Value="UniformToFill" />
            </Style>
            <Style x:Key="TalentBorder" TargetType="Border">
                <Setter Property="Height" Value="38" />
                <Setter Property="Width" Value="180" />
            </Style>
            <Style x:Key="TalentStackPanel" TargetType="StackPanel">
                <Setter Property="Orientation" Value="Horizontal" />
                <Setter Property="HorizontalAlignment" Value="Right" />
            </Style>
        </Canvas.Resources>
        <!--  Top Bar  -->
        <ui:Image
            Name="SurTeamLogo"
            Canvas.Left="250"
            Canvas.Top="9"
            Width="85"
            Height="85"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            d:Source="/Assets/TestLogo.JPG"
            CornerRadius="8"
            Source="{Binding SharedDataService.CurrentGame.SurTeam.Logo}"
            Stretch="Fill" />
        <TextBlock
            Name="SurTeamMajorPoint"
            Canvas.Left="384"
            Canvas.Top="35"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            d:Text="W0 D0"
            FontFamily="Arial"
            FontSize="28"
            FontWeight="Bold"
            Text="{Binding SharedDataService.CurrentGame.SurTeam.Score.MajorPointsOnFront}"
            TextAlignment="Center" />
        <TextBlock
            Name="SurTeamName"
            Canvas.Left="10"
            Canvas.Top="32"
            Width="207"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            d:Text="求生者队伍名称"
            FontFamily="{StaticResource SourceHan}"
            FontSize="28"
            Text="{Binding SharedDataService.CurrentGame.SurTeam.Name}"
            TextAlignment="Center"
            TextWrapping="WrapWithOverflow" />
        <TextBlock
            Name="HunTeamName"
            Canvas.Left="1223"
            Canvas.Top="31"
            Width="207"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            d:Text="监管者队伍名称"
            FontFamily="{StaticResource SourceHan}"
            FontSize="28"
            Text="{Binding SharedDataService.CurrentGame.HunTeam.Name}"
            TextAlignment="Center"
            TextWrapping="WrapWithOverflow" />
        <TextBlock
            Name="HunTeamMajorPoint"
            Canvas.Left="965"
            Canvas.Top="35"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            d:Text="W0 D0"
            FontFamily="Arial"
            FontSize="28"
            FontWeight="Bold"
            Text="{Binding SharedDataService.CurrentGame.HunTeam.Score.MajorPointsOnFront}"
            TextAlignment="Center" />
        <ui:Image
            Name="HunTeamLogo"
            Canvas.Left="1102"
            Canvas.Top="9"
            Width="85"
            Height="85"
            HorizontalAlignment="Left"
            VerticalAlignment="Center"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            d:Source="/Assets/TestLogo.JPG"
            CornerRadius="8"
            Source="{Binding SharedDataService.CurrentGame.HunTeam.Logo}"
            Stretch="Fill" />
        <!--  Map  -->
        <Image
            Name="Map"
            Canvas.Left="491"
            Width="457"
            Height="108"
            HorizontalAlignment="Center"
            VerticalAlignment="Top"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            d:Source="/Assets/map/唐人街.png"
            Source="{Binding SharedDataService.CurrentGame.PickedMapImage}" />
        <Border
            Name="MapName"
            Canvas.Left="554"
            Canvas.Top="21"
            Width="332"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}">
            <TextBlock
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                d:Text="唐人街"
                FontFamily="{StaticResource Hanyi}"
                FontSize="50"
                Text="{Binding SharedDataService.CurrentGame.PickedMap}" />
        </Border>

        <!--  Sur Pick  -->
        <Image
            Name="SurPick0"
            Canvas.Left="-76"
            Canvas.Top="109"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            d:Source="/Assets/先知.png"
            Source="{Binding SharedDataService.CurrentGame.SurPlayerList[0].Character.BigImage}"
            Style="{StaticResource SurPickImage}" />
        <Image
            Name="SurPick1"
            Canvas.Left="292"
            Canvas.Top="109"
            HorizontalAlignment="Center"
            VerticalAlignment="Top"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            d:Source="/Assets/先知.png"
            Source="{Binding SharedDataService.CurrentGame.SurPlayerList[1].Character.BigImage}"
            Style="{StaticResource SurPickImage}" />
        <Image
            Name="SurPick2"
            Canvas.Left="-76"
            Canvas.Top="462"
            HorizontalAlignment="Left"
            VerticalAlignment="Center"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            d:Source="/Assets/先知.png"
            Source="{Binding SharedDataService.CurrentGame.SurPlayerList[2].Character.BigImage}"
            Style="{StaticResource SurPickImage}" />
        <Image
            Name="SurPick3"
            Canvas.Left="292"
            Canvas.Top="462"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            d:Source="/Assets/先知.png"
            Source="{Binding SharedDataService.CurrentGame.SurPlayerList[3].Character.BigImage}"
            Style="{StaticResource SurPickImage}" />
        <!--  Hun Pick  -->
        <Image
            Name="HunPick"
            Canvas.Left="720"
            Canvas.Top="113"
            Width="720"
            Height="638"
            HorizontalAlignment="Left"
            VerticalAlignment="Center"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            d:Source="/Assets/梦之女巫.png"
            Source="{Binding SharedDataService.CurrentGame.HunPlayer.Character.BigImage}" />

        <!--  Player Id  -->
        <!--  Sur  -->
        <Border
            Name="SurId0"
            Canvas.Left="4"
            Canvas.Top="419"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            Style="{StaticResource PlayerIdBorder}">
            <TextBlock
                d:Text="求生者选手名Id"
                Style="{StaticResource PlayerId}"
                Text="{Binding SharedDataService.CurrentGame.SurPlayerList[0].Member.Name}" />
        </Border>
        <Border
            Name="SurId1"
            Canvas.Left="364"
            Canvas.Top="422"
            Height="32"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            Style="{StaticResource PlayerIdBorder}">
            <TextBlock
                d:Text="求生者选手名Id"
                Style="{StaticResource PlayerId}"
                Text="{Binding SharedDataService.CurrentGame.SurPlayerList[1].Member.Name}" />
        </Border>
        <Border
            Name="SurId2"
            Canvas.Left="4"
            Canvas.Top="774"
            Height="31"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            Style="{StaticResource PlayerIdBorder}">
            <TextBlock
                d:Text="求生者选手名Id"
                Style="{StaticResource PlayerId}"
                Text="{Binding SharedDataService.CurrentGame.SurPlayerList[2].Member.Name}" />
        </Border>
        <Border
            Name="SurId3"
            Canvas.Left="366"
            Canvas.Top="774"
            Height="31"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            Style="{StaticResource PlayerIdBorder}">
            <TextBlock
                d:Text="求生者选手名Id"
                Style="{StaticResource PlayerId}"
                Text="{Binding SharedDataService.CurrentGame.SurPlayerList[3].Member.Name}" />
        </Border>
        <!--  Hun  -->
        <Border
            Name="HunId"
            Canvas.Left="720"
            Canvas.Top="755"
            Width="382"
            Height="55"
            Style="{StaticResource PlayerIdBorder}">
            <TextBlock
                HorizontalAlignment="Center"
                cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
                d:Text="监管者选手名"
                FontSize="24"
                Style="{StaticResource PlayerId}"
                Text="{Binding SharedDataService.CurrentGame.HunPlayer.Member.Name}" />
        </Border>

        <!--  Talent  -->
        <Border
            Name="SurTalent0"
            Canvas.Left="176"
            Canvas.Top="419"
            HorizontalAlignment="Left"
            VerticalAlignment="Center"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            Style="{StaticResource TalentBorder}">
            <StackPanel Style="{StaticResource TalentStackPanel}">
                <Image
                    d:Source="/Assets/Icons/white/BorrowedTime.png"
                    d:Visibility="Visible"
                    Source="{Binding BorrowedTimeImageSource}"
                    Visibility="{Binding SharedDataService.CurrentGame.SurPlayerList[0].Talent.BorrowedTime, Converter={StaticResource BooleanToVisibilityConverter}}" />
                <Image
                    d:Source="/Assets/Icons/white/TideTurner.png"
                    Source="{Binding TideTurnerImageSource}"
                    Visibility="{Binding SharedDataService.CurrentGame.SurPlayerList[0].Talent.TideTurner, Converter={StaticResource BooleanToVisibilityConverter}}" />
                <Image
                    d:Source="/Assets/Icons/white/FlywheelEffect.png"
                    Source="{Binding FlywheelEffectImageSource}"
                    Visibility="{Binding SharedDataService.CurrentGame.SurPlayerList[0].Talent.FlywheelEffect, Converter={StaticResource BooleanToVisibilityConverter}}" />
                <Image
                    d:Source="/Assets/Icons/white/KneeJerkReflex.png"
                    Source="{Binding KneeJerkReflexImageSource}"
                    Visibility="{Binding SharedDataService.CurrentGame.SurPlayerList[0].Talent.KneeJerkReflex, Converter={StaticResource BooleanToVisibilityConverter}}" />
            </StackPanel>
        </Border>
        <Border
            Name="SurTalent1"
            Canvas.Left="535"
            Canvas.Top="419"
            HorizontalAlignment="Left"
            VerticalAlignment="Center"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            Style="{StaticResource TalentBorder}">
            <StackPanel Style="{StaticResource TalentStackPanel}">
                <Image
                    d:Source="/Assets/Icons/white/BorrowedTime.png"
                    d:Visibility="Visible"
                    Source="{Binding BorrowedTimeImageSource}"
                    Visibility="{Binding SharedDataService.CurrentGame.SurPlayerList[1].Talent.BorrowedTime, Converter={StaticResource BooleanToVisibilityConverter}}" />
                <Image
                    d:Source="/Assets/Icons/white/TideTurner.png"
                    Source="{Binding TideTurnerImageSource}"
                    Visibility="{Binding SharedDataService.CurrentGame.SurPlayerList[1].Talent.TideTurner, Converter={StaticResource BooleanToVisibilityConverter}}" />
                <Image
                    d:Source="/Assets/Icons/white/FlywheelEffect.png"
                    Source="{Binding FlywheelEffectImageSource}"
                    Visibility="{Binding SharedDataService.CurrentGame.SurPlayerList[1].Talent.FlywheelEffect, Converter={StaticResource BooleanToVisibilityConverter}}" />
                <Image
                    d:Source="/Assets/Icons/white/KneeJerkReflex.png"
                    Source="{Binding KneeJerkReflexImageSource}"
                    Visibility="{Binding SharedDataService.CurrentGame.SurPlayerList[1].Talent.KneeJerkReflex, Converter={StaticResource BooleanToVisibilityConverter}}" />
            </StackPanel>
        </Border>
        <Border
            Name="SurTalent2"
            Canvas.Left="176"
            Canvas.Top="770"
            HorizontalAlignment="Center"
            VerticalAlignment="Top"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            Style="{StaticResource TalentBorder}">
            <StackPanel Style="{StaticResource TalentStackPanel}">
                <Image
                    d:Source="/Assets/Icons/white/BorrowedTime.png"
                    d:Visibility="Visible"
                    Source="{Binding BorrowedTimeImageSource}"
                    Visibility="{Binding SharedDataService.CurrentGame.SurPlayerList[2].Talent.BorrowedTime, Converter={StaticResource BooleanToVisibilityConverter}}" />
                <Image
                    d:Source="/Assets/Icons/white/TideTurner.png"
                    Source="{Binding TideTurnerImageSource}"
                    Visibility="{Binding SharedDataService.CurrentGame.SurPlayerList[2].Talent.TideTurner, Converter={StaticResource BooleanToVisibilityConverter}}" />
                <Image
                    d:Source="/Assets/Icons/white/FlywheelEffect.png"
                    Source="{Binding FlywheelEffectImageSource}"
                    Visibility="{Binding SharedDataService.CurrentGame.SurPlayerList[2].Talent.FlywheelEffect, Converter={StaticResource BooleanToVisibilityConverter}}" />
                <Image
                    d:Source="/Assets/Icons/white/KneeJerkReflex.png"
                    Source="{Binding KneeJerkReflexImageSource}"
                    Visibility="{Binding SharedDataService.CurrentGame.SurPlayerList[2].Talent.KneeJerkReflex, Converter={StaticResource BooleanToVisibilityConverter}}" />
            </StackPanel>
        </Border>
        <Border
            Name="SurTalent3"
            Canvas.Left="535"
            Canvas.Top="770"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            Style="{StaticResource TalentBorder}">
            <StackPanel Style="{StaticResource TalentStackPanel}">
                <Image
                    d:Source="/Assets/Icons/white/BorrowedTime.png"
                    d:Visibility="Visible"
                    Source="{Binding BorrowedTimeImageSource}"
                    Visibility="{Binding SharedDataService.CurrentGame.SurPlayerList[3].Talent.BorrowedTime, Converter={StaticResource BooleanToVisibilityConverter}}" />
                <Image
                    d:Source="/Assets/Icons/white/TideTurner.png"
                    Source="{Binding TideTurnerImageSource}"
                    Visibility="{Binding SharedDataService.CurrentGame.SurPlayerList[3].Talent.TideTurner, Converter={StaticResource BooleanToVisibilityConverter}}" />
                <Image
                    d:Source="/Assets/Icons/white/FlywheelEffect.png"
                    Source="{Binding FlywheelEffectImageSource}"
                    Visibility="{Binding SharedDataService.CurrentGame.SurPlayerList[3].Talent.FlywheelEffect, Converter={StaticResource BooleanToVisibilityConverter}}" />
                <Image
                    d:Source="/Assets/Icons/white/KneeJerkReflex.png"
                    Source="{Binding KneeJerkReflexImageSource}"
                    Visibility="{Binding SharedDataService.CurrentGame.SurPlayerList[3].Talent.KneeJerkReflex, Converter={StaticResource BooleanToVisibilityConverter}}" />
            </StackPanel>
        </Border>
        <!--  Hun  -->
        <Border
            Name="HunTalent"
            Canvas.Left="1102"
            Canvas.Top="760"
            Width="195"
            Height="45"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            Style="{StaticResource TalentBorder}">
            <StackPanel HorizontalAlignment="Left" Style="{StaticResource TalentStackPanel}">
                <Image
                    d:Source="/Assets/Icons/white/TrumpCard.png"
                    d:Visibility="Visible"
                    Source="{Binding TrumpCardImageSource}"
                    Visibility="{Binding SharedDataService.CurrentGame.HunPlayer.Talent.TrumpCard, Converter={StaticResource BooleanToVisibilityConverter}}" />
                <Image
                    d:Source="/Assets/Icons/white/Detention.png"
                    Source="{Binding DetentionImageSource}"
                    Visibility="{Binding SharedDataService.CurrentGame.HunPlayer.Talent.Detention, Converter={StaticResource BooleanToVisibilityConverter}}" />
                <Image
                    d:Source="/Assets/Icons/white/ConfinedSpace.png"
                    Source="{Binding ConfinedSpaceImageSource}"
                    Visibility="{Binding SharedDataService.CurrentGame.HunPlayer.Talent.ConfinedSpace, Converter={StaticResource BooleanToVisibilityConverter}}" />
                <Image
                    d:Source="/Assets/Icons/white/Insolence.png"
                    Source="{Binding InsolenceImageSource}"
                    Visibility="{Binding SharedDataService.CurrentGame.HunPlayer.Talent.Insolence, Converter={StaticResource BooleanToVisibilityConverter}}" />
            </StackPanel>
        </Border>
        <Image
            Name="Trait"
            Canvas.Left="1280"
            Canvas.Top="754"
            Width="58"
            Height="56"
            HorizontalAlignment="Center"
            VerticalAlignment="Top"
            cb:DesignBehavior.IsDesignMode="{Binding IsDesignMode}"
            d:Source="/Assets/闪现.png"
            Source="{Binding SharedDataService.CurrentGame.HunPlayer.Trait.Image}"
            Visibility="{Binding SharedDataService.IsTraitVisible, Converter={StaticResource BooleanToVisibilityConverter}}" />
    </Canvas>
</Window>
