<Page
    x:Class="neo_bpsys_wpf.Views.Pages.TeamInfoPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:cc="clr-namespace:neo_bpsys_wpf.CustomControls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:local="clr-namespace:neo_bpsys_wpf.Views.Pages"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    xmlns:vm="clr-namespace:neo_bpsys_wpf.ViewModels.Pages"
    Title="TeamInfoPage"
    d:DataContext="{d:DesignInstance Type=vm:TeamInfoPageViewModel,
                                     IsDesignTimeCreatable=True}"
    d:DesignHeight="2000"
    d:DesignWidth="685"
    ui:Design.Foreground="{DynamicResource TextFillColorPrimaryBrush}"
    Foreground="{DynamicResource TextFillColorPrimaryBrush}"
    mc:Ignorable="d">

    <WrapPanel Orientation="Horizontal">
        <!--  main team  -->
        <Border
            Margin="0,0,10,10"
            Padding="10"
            HorizontalAlignment="Left"
            Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
            CornerRadius="8">
            <!--  basic info  -->
            <StackPanel>
                <StackPanel Orientation="Horizontal">
                    <TextBlock VerticalAlignment="Center" Text="主场队伍信息" />
                    <ui:Button
                        Margin="10,0,0,0"
                        Content="从Json文件导入"
                        Icon="{ui:SymbolIcon Symbol=ArrowImport24}"
                        ToolTipService.InitialShowDelay="100"
                        ToolTipService.Placement="MousePoint"
                        ToolTipService.ToolTip="这是用于快速导入队伍信息使用的，示例文件是软件目录下的'Team_Info_Example.json'，有其它问题请查阅文档" />
                </StackPanel>

                <StackPanel Margin="0,10,0,0" Orientation="Horizontal">
                    <ui:TextBox
                        Width="150"
                        PlaceholderText="队伍名称"
                        Text="{Binding MainTeamName}" />
                    <ui:Button
                        Margin="10,0,0,0"
                        Command="{Binding ConfirmTeamNameCommand}"
                        CommandParameter="Main"
                        Content="确认"
                        Icon="{ui:SymbolIcon Symbol=Checkmark24}" />
                </StackPanel>

                <StackPanel Orientation="Horizontal">
                    <ui:Button
                        Command="{Binding SetTeamLogoCommand}"
                        CommandParameter="Main"
                        Content="设置队伍LOGO"
                        Icon="{ui:SymbolIcon Symbol=ImageEdit24}" />
                    <Image
                        Width="75"
                        Height="75"
                        Margin="20,0,0,0"
                        Source="{Binding MainTeamLogo}"
                        Stretch="UniformToFill" />
                    <TextBlock
                        Width="150"
                        Margin="20,0,0,0"
                        VerticalAlignment="Center"
                        Text="{Binding MainTeamCamp}" />
                </StackPanel>

                <!--  player edit  -->

                <!--  sur  -->
                <StackPanel>
                    <TextBlock Text="求生者选手" />
                    <ItemsControl Margin="0,10,0,0" ItemsSource="{Binding MainSurPlayerEditorItems}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <DataTemplate.Resources />
                                <StackPanel Margin="0,0,0,10" Orientation="Horizontal">
                                    <ui:TextBox
                                        MinWidth="250"
                                        Margin="10,0,0,0"
                                        PlaceholderText="选手名称"
                                        Text="{Binding PlayerName}" />
                                    <ui:Button
                                        Margin="10,0,0,0"
                                        Command="{Binding SetPlayerImageCommand}"
                                        Content="设置定妆照"
                                        Icon="{ui:SymbolIcon Symbol=ImageAdd24}" />
                                    <ToggleButton Margin="10,0,0,0" Foreground="White">
                                        <i:Interaction.Triggers>
                                            <i:DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ToggleButton}, Path=IsChecked}" Value="False">
                                                <i:ChangePropertyAction PropertyName="Content">
                                                    <i:ChangePropertyAction.Value>
                                                        <StackPanel Orientation="Horizontal">
                                                            <ui:SymbolIcon Symbol="ArrowUpload24" />
                                                            <TextBlock Margin="10,0,0,0" Text="上场" />
                                                        </StackPanel>
                                                    </i:ChangePropertyAction.Value>
                                                </i:ChangePropertyAction>
                                                <i:ChangePropertyAction PropertyName="Background" Value="DarkGreen" />
                                            </i:DataTrigger>
                                            <i:DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ToggleButton}, Path=IsChecked}" Value="True">
                                                <i:ChangePropertyAction PropertyName="Content">
                                                    <i:ChangePropertyAction.Value>
                                                        <StackPanel Orientation="Horizontal">
                                                            <ui:SymbolIcon Symbol="ArrowDownload24" />
                                                            <TextBlock Margin="10,0,0,0" Text="下场" />
                                                        </StackPanel>
                                                    </i:ChangePropertyAction.Value>
                                                </i:ChangePropertyAction>
                                                <i:ChangePropertyAction PropertyName="Background" Value="DarkRed" />
                                            </i:DataTrigger>
                                        </i:Interaction.Triggers>
                                    </ToggleButton>
                                </StackPanel>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                    <StackPanel Orientation="Horizontal">
                        <ui:Button
                            Command="{Binding AddMainSurPlayerCommand}"
                            Content="添加选手"
                            Icon="{ui:SymbolIcon Symbol=Add24}" />
                        <ui:Button
                            Margin="10,0,0,0"
                            Command="{Binding RemoveMainSurPlayerCommand}"
                            Content="移除选手"
                            Icon="{ui:SymbolIcon Symbol=Subtract24}"
                            IsEnabled="{Binding RemoveMainSurPlayerCommandCanExecute}" />
                    </StackPanel>
                </StackPanel>
                <!--  hun  -->
                <StackPanel Margin="0,10,0,0">
                    <TextBlock Text="监管者选手" />
                    <ItemsControl Margin="0,10,0,0" ItemsSource="{Binding MainHunPlayerEditorItems}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Margin="0,0,0,10" Orientation="Horizontal">
                                    <ui:TextBox
                                        MinWidth="250"
                                        PlaceholderText="选手名称"
                                        Text="{Binding PlayerName}" />
                                    <ui:Button
                                        Margin="10,0,0,0"
                                        Command="{Binding SetPlayerImageCommand}"
                                        Content="设置定妆照"
                                        Icon="{ui:SymbolIcon Symbol=ImageAdd24}" />
                                    <ToggleButton Margin="10,0,0,0" Foreground="White">
                                        <i:Interaction.Triggers>
                                            <i:DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ToggleButton}, Path=IsChecked}" Value="False">
                                                <i:ChangePropertyAction PropertyName="Content">
                                                    <i:ChangePropertyAction.Value>
                                                        <StackPanel Orientation="Horizontal">
                                                            <ui:SymbolIcon Symbol="ArrowUpload24" />
                                                            <TextBlock Margin="10,0,0,0" Text="上场" />
                                                        </StackPanel>
                                                    </i:ChangePropertyAction.Value>
                                                </i:ChangePropertyAction>
                                                <i:ChangePropertyAction PropertyName="Background" Value="DarkGreen" />
                                            </i:DataTrigger>
                                            <i:DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ToggleButton}, Path=IsChecked}" Value="True">
                                                <i:ChangePropertyAction PropertyName="Content">
                                                    <i:ChangePropertyAction.Value>
                                                        <StackPanel Orientation="Horizontal">
                                                            <ui:SymbolIcon Symbol="ArrowDownload24" />
                                                            <TextBlock Margin="10,0,0,0" Text="下场" />
                                                        </StackPanel>
                                                    </i:ChangePropertyAction.Value>
                                                </i:ChangePropertyAction>
                                                <i:ChangePropertyAction PropertyName="Background" Value="DarkRed" />
                                            </i:DataTrigger>
                                        </i:Interaction.Triggers>
                                    </ToggleButton>
                                </StackPanel>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                    <StackPanel Orientation="Horizontal">
                        <ui:Button
                            Command="{Binding AddMainHunPlayerCommand}"
                            Content="添加选手"
                            Icon="{ui:SymbolIcon Symbol=Add24}" />
                        <ui:Button
                            Margin="10,0,0,0"
                            Command="{Binding RemoveMainHunPlayerCommand}"
                            Content="移除选手"
                            Icon="{ui:SymbolIcon Symbol=Subtract24}"
                            IsEnabled="{Binding RemoveMainHunPlayerCommandCanExecute}" />
                    </StackPanel>
                </StackPanel>
            </StackPanel>
        </Border>

        <!--  away team  -->
        <Border
            Margin="0,0,10,10"
            Padding="10"
            HorizontalAlignment="Left"
            Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
            CornerRadius="8">
            <!--  basic info  -->
            <StackPanel>
                <StackPanel Orientation="Horizontal">
                    <TextBlock VerticalAlignment="Center" Text="客队伍信息" />
                    <ui:Button
                        Margin="10,0,0,0"
                        Content="从Json文件导入"
                        Icon="{ui:SymbolIcon Symbol=ArrowImport24}"
                        ToolTipService.InitialShowDelay="100"
                        ToolTipService.Placement="MousePoint"
                        ToolTipService.ToolTip="这是用于快速导入队伍信息使用的，示例文件是软件目录下的'Team_Info_Example.json'，有其它问题请查阅文档" />
                </StackPanel>

                <StackPanel Margin="0,10,0,0" Orientation="Horizontal">
                    <ui:TextBox Width="150" PlaceholderText="队伍名称" />
                    <ui:Button
                        Margin="10,0,0,0"
                        Content="确认"
                        Icon="{ui:SymbolIcon Symbol=Checkmark24}" />
                </StackPanel>

                <StackPanel Orientation="Horizontal">
                    <ui:Button Content="设置队伍LOGO" Icon="{ui:SymbolIcon Symbol=ImageEdit24}" />
                    <Image
                        Width="75"
                        Height="75"
                        Margin="20,0,0,0"
                        Source="{Binding AwayTeamLogo}"
                        Stretch="UniformToFill" />
                    <TextBlock
                        Width="150"
                        Margin="20,0,0,0"
                        VerticalAlignment="Center"
                        Text="{Binding AwayTeamCamp}" />
                </StackPanel>

                <!--  player edit  -->

                <!--  sur  -->
                <StackPanel>
                    <TextBlock Text="求生者选手" />
                    <ItemsControl Margin="0,10,0,0" ItemsSource="{Binding AwaySurPlayerEditorItems}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Margin="0,0,0,10" Orientation="Horizontal">
                                    <ui:TextBox
                                        MinWidth="250"
                                        Margin="10,0,0,0"
                                        PlaceholderText="选手名称"
                                        Text="{Binding PlayerName}" />
                                    <ui:Button
                                        Margin="10,0,0,0"
                                        Command="{Binding SetPlayerImageCommand}"
                                        Content="设置定妆照"
                                        Icon="{ui:SymbolIcon Symbol=ImageAdd24}" />
                                    <ToggleButton Margin="10,0,0,0" Foreground="White">
                                        <i:Interaction.Triggers>
                                            <i:DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ToggleButton}, Path=IsChecked}" Value="False">
                                                <i:ChangePropertyAction PropertyName="Content">
                                                    <i:ChangePropertyAction.Value>
                                                        <StackPanel Orientation="Horizontal">
                                                            <ui:SymbolIcon Symbol="ArrowUpload24" />
                                                            <TextBlock Margin="10,0,0,0" Text="上场" />
                                                        </StackPanel>
                                                    </i:ChangePropertyAction.Value>
                                                </i:ChangePropertyAction>
                                                <i:ChangePropertyAction PropertyName="Background" Value="DarkGreen" />
                                            </i:DataTrigger>
                                            <i:DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ToggleButton}, Path=IsChecked}" Value="True">
                                                <i:ChangePropertyAction PropertyName="Content">
                                                    <i:ChangePropertyAction.Value>
                                                        <StackPanel Orientation="Horizontal">
                                                            <ui:SymbolIcon Symbol="ArrowDownload24" />
                                                            <TextBlock Margin="10,0,0,0" Text="下场" />
                                                        </StackPanel>
                                                    </i:ChangePropertyAction.Value>
                                                </i:ChangePropertyAction>
                                                <i:ChangePropertyAction PropertyName="Background" Value="DarkRed" />
                                            </i:DataTrigger>
                                        </i:Interaction.Triggers>
                                    </ToggleButton>
                                </StackPanel>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                    <StackPanel Orientation="Horizontal">
                        <ui:Button
                            Command="{Binding AddAwaySurPlayerCommand}"
                            Content="添加选手"
                            Icon="{ui:SymbolIcon Symbol=Add24}" />
                        <ui:Button
                            Margin="10,0,0,0"
                            Command="{Binding RemoveAwaySurPlayerCommand}"
                            Content="移除选手"
                            Icon="{ui:SymbolIcon Symbol=Subtract24}"
                            IsEnabled="{Binding RemoveAwaySurPlayerCommandCanExecute}" />
                    </StackPanel>
                </StackPanel>
                <!--  hun  -->
                <StackPanel Margin="0,10,0,0">
                    <TextBlock Text="监管者选手" />
                    <ItemsControl Margin="0,10,0,0" ItemsSource="{Binding AwayHunPlayerEditorItems}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Margin="0,0,0,10" Orientation="Horizontal">
                                    <ui:TextBox
                                        MinWidth="250"
                                        PlaceholderText="选手名称"
                                        Text="{Binding PlayerName}" />
                                    <ui:Button
                                        Margin="10,0,0,0"
                                        Command="{Binding SetPlayerImageCommand}"
                                        Content="设置定妆照"
                                        Icon="{ui:SymbolIcon Symbol=ImageAdd24}" />
                                    <ToggleButton Margin="10,0,0,0" Foreground="White">
                                        <i:Interaction.Triggers>
                                            <i:DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ToggleButton}, Path=IsChecked}" Value="False">
                                                <i:ChangePropertyAction PropertyName="Content">
                                                    <i:ChangePropertyAction.Value>
                                                        <StackPanel Orientation="Horizontal">
                                                            <ui:SymbolIcon Symbol="ArrowUpload24" />
                                                            <TextBlock Margin="10,0,0,0" Text="上场" />
                                                        </StackPanel>
                                                    </i:ChangePropertyAction.Value>
                                                </i:ChangePropertyAction>
                                                <i:ChangePropertyAction PropertyName="Background" Value="DarkGreen" />
                                            </i:DataTrigger>
                                            <i:DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ToggleButton}, Path=IsChecked}" Value="True">
                                                <i:ChangePropertyAction PropertyName="Content">
                                                    <i:ChangePropertyAction.Value>
                                                        <StackPanel Orientation="Horizontal">
                                                            <ui:SymbolIcon Symbol="ArrowDownload24" />
                                                            <TextBlock Margin="10,0,0,0" Text="下场" />
                                                        </StackPanel>
                                                    </i:ChangePropertyAction.Value>
                                                </i:ChangePropertyAction>
                                                <i:ChangePropertyAction PropertyName="Background" Value="DarkRed" />
                                            </i:DataTrigger>
                                        </i:Interaction.Triggers>
                                    </ToggleButton>
                                </StackPanel>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                    <StackPanel Orientation="Horizontal">
                        <ui:Button
                            Command="{Binding AddAwayHunPlayerCommand}"
                            Content="添加选手"
                            Icon="{ui:SymbolIcon Symbol=Add24}" />
                        <ui:Button
                            Margin="10,0,0,0"
                            Command="{Binding RemoveAwayHunPlayerCommand}"
                            Content="移除选手"
                            Icon="{ui:SymbolIcon Symbol=Subtract24}"
                            IsEnabled="{Binding RemoveAwayHunPlayerCommandCanExecute}" />
                    </StackPanel>
                </StackPanel>
            </StackPanel>
        </Border>

        <!--  current  -->
        <Border
            Margin="0,0,10,10"
            Padding="10,10,10,10"
            HorizontalAlignment="Left"
            VerticalAlignment="Top"
            Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
            CornerRadius="8">
            <StackPanel>
                <TextBlock Text="当前上场选手" />
                <TextBlock Margin="0,10,0,0" Text="求生者" />
                <StackPanel Margin="0,10,0,0" Orientation="Horizontal">
                    <ui:TextBox MinWidth="250" PlaceholderText="选手名称" />
                    <cc:CharacterChanger
                        Margin="10,0,0,0"
                        Index="0"
                        Spacing="10" />
                </StackPanel>

                <StackPanel Margin="0,10,0,0" Orientation="Horizontal">
                    <ui:TextBox MinWidth="250" PlaceholderText="选手名称" />
                    <cc:CharacterChanger
                        Margin="10,0,0,0"
                        Index="1"
                        Spacing="10" />
                </StackPanel>

                <StackPanel Margin="0,10,0,0" Orientation="Horizontal">
                    <ui:TextBox MinWidth="250" PlaceholderText="选手名称" />
                    <cc:CharacterChanger
                        Margin="10,0,0,0"
                        Index="2"
                        Spacing="10" />
                </StackPanel>

                <StackPanel Margin="0,10,0,0" Orientation="Horizontal">
                    <ui:TextBox MinWidth="250" PlaceholderText="选手名称" />
                    <cc:CharacterChanger
                        Margin="10,0,0,0"
                        Index="3"
                        Spacing="10" />
                </StackPanel>

                <TextBlock Margin="0,10,0,0" Text="监管者" />
                <ui:TextBox
                    MinWidth="250"
                    Margin="0,10,0,0"
                    HorizontalAlignment="Left"
                    PlaceholderText="选手名称" />
            </StackPanel>
        </Border>
    </WrapPanel>
</Page>
